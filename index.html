<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/DrPyxel/UniBoardGame/master/sprites/Beesley.png">
    <title>
        Uni: Graduate
    </title>>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.0.0/dist/phaser.min.js"></script>
    <style>
        body {
	        cursor: url('sprites/SC2-cursor-protoss.cur'), default;
            background:linear-gradient(to right, #fff,#ddd);
        }
        script {
            
        }
        
    </style>
    <meta http-equiv="Cache-control" content="no-cache">


</head>
<body>
        <script>
            var player;
        var student;
        var cursors;
        var beesles;
        var center;
        var dieOne;
        var dieTwo;
        var dieThree;
        var dieFour;
        var dieFive;
        var dieSix;
        var stepsLeft;
        var square1;
        var square2;
        var square3;
        var square4;
        var square5;
        var square6;
        var square7;
        var square8;
        var square9;
        var square10;
        var square11;
        var square12;
        var square13;
        var square14;
        var square15;
        var square16;
        var square17;
        var square18;
        var square19;
        var square20;
        var square21;
        var square22;
        var square23;
        var square24;
        var square25;
        var square26;
        var square27;
        var square28;
        var square29;
        var square30;
        var square31;
        var square32;
        var square1Counted;
        var square2Counted;
        var square3Counted;
        var square4Counted;
        var square5Counted;
        var square6Counted;
        var square7Counted;
        var square8Counted;
        var square9Counted;
        var square10Counted;
        var square11Counted;
        var square12Counted;
        var square13Counted;
        var square14Counted;
        var square15Counted;
        var square16Counted;
        var square17Counted;
        var square18Counted;
        var square19Counted;
        var square20Counted;
        var square21Counted;
        var square22Counted;
        var square23Counted;
        var square24Counted;
        var square25Counted;
        var square26Counted;
        var square27Counted;
        var square28Counted;
        var square29Counted;
        var square30Counted;
        var square31Counted;
        var square32Counted;
        var studentX;
        var studentY;
        var inMinigame;
        var scene;
        var points;
        var squareOn;
        var scoreText;
        var timer;
        var artifact;
var Game = new Phaser.Class({

            Extends: Phaser.Scene,

            initialize:
            function Game ()
            {
                Phaser.Scene.call(this, 'game');
            },

            preload: function ()
            {
            this.load.image('board', 'sprites/board.png');
            this.load.spritesheet('student', 'sprites/student.png', {frameWidth: 136 / 4, frameHeight: 160 / 4});
            this.load.image('beesley', 'sprites/Beesley.png');
            this.load.image('player', 'sprites/player.png');
            this.load.image('center', 'sprites/boardCenter.png');
            this.load.image('DieOne', 'sprites/DieOne.png');
            this.load.image('DieTwo', 'sprites/DieTwo.png');
            this.load.image('DieThree', 'sprites/DieThree.png');
            this.load.image('DieFour', 'sprites/DieFour.png');
            this.load.image('DieFive', 'sprites/DieFive.png');
            this.load.image('DieSix', 'sprites/DieSix.png');
            this.load.image('square-1', 'sprites/square-1.png');
            this.load.image('square-2', 'sprites/square-2.png');
            this.load.image('square-3', 'sprites/square-3.png');
            this.load.image('square-4', 'sprites/square-4.png');
            this.load.image('square-5', 'sprites/square-5.png');
            this.load.image('square-6', 'sprites/square-6.png');
            this.load.image('square-7', 'sprites/square-7.png');
            this.load.image('square-8', 'sprites/square-8.png');
            this.load.image('square-9', 'sprites/square-1.png');
            this.load.image('square-10', 'sprites/square-2.png');
            this.load.image('square-11', 'sprites/square-3.png');
            this.load.image('square-12', 'sprites/square-4.png');
            this.load.image('square-13', 'sprites/square-5.png');
            this.load.image('square-14', 'sprites/square-6.png');
            this.load.image('square-15', 'sprites/square-7.png');
            this.load.image('square-16', 'sprites/square-8.png');
            this.load.image('square-17', 'sprites/square-1.png');
            this.load.image('square-18', 'sprites/square-2.png');
            this.load.image('square-19', 'sprites/square-3.png');
            this.load.image('square-20', 'sprites/square-4.png');
            this.load.image('square-21', 'sprites/square-5.png');
            this.load.image('square-22', 'sprites/square-6.png');
            this.load.image('square-23', 'sprites/square-7.png');
            this.load.image('square-24', 'sprites/square-8.png');
            this.load.image('square-25', 'sprites/square-1.png');
            this.load.image('square-26', 'sprites/square-2.png');
            this.load.image('square-27', 'sprites/square-3.png');
            this.load.image('square-28', 'sprites/square-4.png');
            this.load.image('square-29', 'sprites/square-5.png');
            this.load.image('square-30', 'sprites/square-6.png');
            this.load.image('square-31', 'sprites/square-7.png');
            this.load.image('square-32', 'sprites/square-8.png');
            },
            create: function ()
            {
            studentX = 750;
            studentY = 50;
            
            this.add.image(400, 400, 'board');
            beesles = this.physics.add.staticGroup();
            center = this.physics.add.staticGroup();
            
            center.create(400, 400, 'center');
            //beesles.create(400, 400, 'beesley');
            square1 = this.physics.add.group();
            square2 = this.physics.add.group();
            square3 = this.physics.add.group();
            square4 = this.physics.add.group();
            square5 = this.physics.add.group();
            square6 = this.physics.add.group();
            square7 = this.physics.add.group();
            square8 = this.physics.add.group();
            square9 = this.physics.add.group();
            square10 = this.physics.add.group();
            square11 = this.physics.add.group();
            square12 = this.physics.add.group();
            square13 = this.physics.add.group();
            square14 = this.physics.add.group();
            square15 = this.physics.add.group();
            square16 = this.physics.add.group();
            square17 = this.physics.add.group();
            square18 = this.physics.add.group();
            square19 = this.physics.add.group();
            square20 = this.physics.add.group();
            square21 = this.physics.add.group();
            square22 = this.physics.add.group();
            square23 = this.physics.add.group();
            square24 = this.physics.add.group();
            square25 = this.physics.add.group();
            square26 = this.physics.add.group();
            square27 = this.physics.add.group();
            square28 = this.physics.add.group();
            square29 = this.physics.add.group();
            square30 = this.physics.add.group();
            square31 = this.physics.add.group();
            square32 = this.physics.add.group();


            square1Counted = false;
            square2Counted = false;
            square3Counted = false;
            square4Counted = false;
            square5Counted = false;
            square6Counted = false;
            square7Counted = false;
            square8Counted = false;
            square9Counted = false;
            square10Counted = false;
            square11Counted = false;
            square12Counted = false;
            square13Counted = false;
            square14Counted = false;
            square15Counted = false;
            square16Counted = false;
            square17Counted = false;
            square18Counted = false;
            square19Counted = false;
            square20Counted = false;
            square21Counted = false;
            square22Counted = false;
            square23Counted = false;
            square24Counted = false;
            square25Counted = false;
            square26Counted = false;
            square27Counted = false;
            square28Counted = false;
            square29Counted = false;
            square30Counted = false;
            square31Counted = false;
            square32Counted = false;
            
            square1.create(760, 130, 'square-1');
            square2.create(760, 220, 'square-2');
            square3.create(760, 310, 'square-3');
            square4.create(760, 400, 'square-4');
            square5.create(760, 490, 'square-5');
            square6.create(760, 580, 'square-6');
            square7.create(760, 670, 'square-7');
            square8.create(760, 760, 'square-8');
            square9.create(670, 760, 'square-9');
            square10.create(580, 760, 'square-10');
            square11.create(490, 760, 'square-11');
            square12.create(400, 760, 'square-12');
            square13.create(310, 760, 'square-13');
            square14.create(220, 760, 'square-14');
            square15.create(130, 760, 'square-15');
            square16.create(40, 760, 'square-16');
            square17.create(40, 670, 'square-17');
            square18.create(40, 580, 'square-18');
            square19.create(40, 490, 'square-19');
            square20.create(40, 400, 'square-20');
            square21.create(40, 310, 'square-21');
            square22.create(40, 220, 'square-22');
            square23.create(40, 130, 'square-23');
            square24.create(40, 40, 'square-24');
            square25.create(135, 40, 'square-25');
            square26.create(220, 40, 'square-26');
            square27.create(310, 40, 'square-27');
            square28.create(400, 40, 'square-28');
            square29.create(490, 40, 'square-29');
            square30.create(580, 40, 'square-30');
            square31.create(670, 40, 'square-31');
            square32.create(760, 40, 'square-32');

            

            student = this.physics.add.sprite(studentX, studentY, 'student');
            student.setCollideWorldBounds(true);

            this.input.mouse.disableContextMenu();

            this.input.on('pointerup', function (pointer) {
            var dienumber = 0
                
                if (pointer.rightButtonDown())
                {
                    console.log(pointer.x + ', ' + pointer.y);
                    if (pointer.x > 100 && pointer.y > 100)
                    {
                        if(pointer.x < 700 && pointer.y < 700)
                        {
                            dienumber = Math.floor(Math.random() * (6 - 1 + 1)) + 1;
                            
                            stepsLeft = dienumber + 1;
                            reset();
                            center.create(400, 400, 'center');
                            if (dienumber === 1)
                            {
                                this.add.image(400, 300, 'DieOne');
                            }
                            else if (dienumber === 2)
                            {
                                this.add.image(400, 300, 'DieTwo');
                            }
                            else if (dienumber === 3)
                            {
                                this.add.image(400, 300, 'DieThree');
                            }
                            else if (dienumber === 4)
                            {
                                this.add.image(400, 300, 'DieFour');
                            }
                            else if (dienumber === 5)
                            {
                                this.add.image(400, 300, 'DieFive');
                            }
                            else if (dienumber === 6)
                            {
                                this.add.image(400, 300, 'DieSix');
                            }
                            this.add.text(400, 200, dienumber).setFontFamily('Trebuchet MS').setFontSize(25).setColor('#008080');
                            console.log(dienumber);
                            
                            //overSquare1(null, this);
                            //overSquare2(null, this);
                            
                        }
                    }
                    
                }
            

            }, this);

            


            this.add.text(150, 400, 'Right Click here to roll the dice!').setFontFamily('Trebuchet MS').setFontSize(35).setColor('#008080');
            cursors = this.input.keyboard.createCursorKeys();
            
            //student.create(400, 0, 'student');
            //this.add.image(, 'tileblock');
            //var playerImg = this.add.image(760, 45, 'player');
            //playerImg.scaleX = 0.2;
            //playerImg.scaleY = 0.15;
            

            this.anims.create({
                key: 'turn',
                frames: this.anims.generateFrameNumbers('student', { start: 0, end: 5 }),
                frameRate: 10,
                repeat: -1
            });

            this.anims.create({
                key: 'none',
                frames: [ { key: 'student', frame: 4 } ],
                frameRate: 10
            });
            
            //this.physics.add.collider(student, beesles);
            this.physics.add.collider(student, center); 
            
            this.physics.add.overlap(student, square1, overSquare1);
            this.physics.add.overlap(student, square2, overSquare2);
            this.physics.add.overlap(student, square3, overSquare3);
            this.physics.add.overlap(student, square4, overSquare4);
            this.physics.add.overlap(student, square5, overSquare5);
            this.physics.add.overlap(student, square6, overSquare6);
            this.physics.add.overlap(student, square7, overSquare7);
            this.physics.add.overlap(student, square8, overSquare8);
            this.physics.add.overlap(student, square9, overSquare9);
            this.physics.add.overlap(student, square10, overSquare10);
            this.physics.add.overlap(student, square11, overSquare11);
            this.physics.add.overlap(student, square12, overSquare12);
            this.physics.add.overlap(student, square13, overSquare13);
            this.physics.add.overlap(student, square14, overSquare14);
            this.physics.add.overlap(student, square15, overSquare15);
            this.physics.add.overlap(student, square16, overSquare16);
            this.physics.add.overlap(student, square17, overSquare17);
            this.physics.add.overlap(student, square18, overSquare18);
            this.physics.add.overlap(student, square19, overSquare19);
            this.physics.add.overlap(student, square20, overSquare20);
            this.physics.add.overlap(student, square21, overSquare21);
            this.physics.add.overlap(student, square22, overSquare22);
            this.physics.add.overlap(student, square23, overSquare23);
            this.physics.add.overlap(student, square24, overSquare24);
            this.physics.add.overlap(student, square25, overSquare25);
            this.physics.add.overlap(student, square26, overSquare26);
            this.physics.add.overlap(student, square27, overSquare27);
            this.physics.add.overlap(student, square28, overSquare28);
            this.physics.add.overlap(student, square29, overSquare29);
            this.physics.add.overlap(student, square30, overSquare30);
            this.physics.add.overlap(student, square31, overSquare31);
            this.physics.add.overlap(student, square32, overSquare32);
        
        },
        update: function ()
        {
            if(stepsLeft > 0)
            {
            
                if (cursors.right.isDown && lockDir!== 2)
                {
                    student.setVelocityX(160);
                    student.anims.play('turn', true);
                }
                else if (cursors.left.isDown && lockDir !== 4)
                {
                    student.setVelocityX(-160);

                    student.anims.play('turn', true);
                }
                else
                {
                    student.setVelocityX(0);
                }
                if (cursors.up.isDown && lockDir !== 1)
                {
                    student.setVelocityY(-160);

                    student.anims.play('turn', true);
                }
                
                
                else if (cursors.down.isDown && lockDir !== 3)
                {
                    student.setVelocityY(160);

                    student.anims.play('turn', true);
                }
                else
                {
                    student.setVelocityY(0);

                    student.anims.play('none', true);
                }
            }

            else
            {
                student.setVelocityX(0);
                student.setVelocityY(0);
                student.anims.play('none', true);
            }
        }
        });
var HistoryGame = new Phaser.Class({
    Extends: Phaser.Scene,
    initialize:

    function HistoryGame ()
    {
        Phaser.Scene.call(this, 'history');
    },
    preload: function ()
    {
        this.load.image('Maze', 'sprites/Maze.png');
        //this.load.spritesheet('student', 'sprites/student.png', {frameWidth: 136 / 4, frameHeight: 160 / 4});
        this.load.image('student', 'sprites/TacoBeef.png');
        this.load.image('square', 'sprites/square-5.png');
    },
    create: function ()
    {
        artifact = false;
        this.cameras.main.setBounds(0, 0, 1600, 1600);
        this.physics.world.setBounds(0, 0, 1600, 1600);
        student = this.physics.add.sprite(1500, 1500, 'student');
        student.setCollideWorldBounds(true);
        Maze = this.physics.add.staticGroup();
        Maze.create(800, 800, 'Maze');

        square = this.physics.add.staticGroup();
        square.create(770, 180, 'square');

        this.add.image(0, 0, 'Maze').setOrigin(0).setScrollFactor(1);
        //Maze.create(800, 800, 'Maze');
        cursors = this.input.keyboard.createCursorKeys();

        

        this.cameras.main.startFollow(student, true, 2, 2);
    
        //this.cameras.main.setZoom(4);

        //this.cameras.main.startFollow();
        /*
        this.anims.create({
                key: 'turn',
                frames: this.anims.generateFrameNumbers('student', { start: 0, end: 5 }),
                frameRate: 10,
                repeat: -1
            });

            this.anims.create({
                key: 'none',
                frames: [ { key: 'student', frame: 4 } ],
                frameRate: 10
            });*/
            //this.physics.add.collider(student, square); 
            this.physics.add.overlap(student, square, artifactFound);
            if (artifact === true)
            {
                this.scene.launch('SceneB');
                //console.log('collision');
            }
            

    },
    update: function ()
    {
        if (cursors.right.isDown)
                {
                    student.setVelocityX(160);
                    //student.anims.play('turn', true);
                }
                else if (cursors.left.isDown)
                {
                    student.setVelocityX(-160);

                    //student.anims.play('turn', true);
                }
                else
                {
                    student.setVelocityX(0);
                }
                if (cursors.up.isDown)
                {
                    student.setVelocityY(-160);

                    //student.anims.play('turn', true);
                }
                
                
                else if (cursors.down.isDown)
                {
                    student.setVelocityY(160);

                    //student.anims.play('turn', true);
                }
                else
                {
                    student.setVelocityY(0);
                    //student.anims.play('none', true);
                }
    },

})
        
        var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 800,
        pixelArt: true,
        //backgroundColor: '#2d2d8d',
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 0 },
                debug: true
            }
        },
        scene: [HistoryGame, Game]
        };

        var game = new Phaser.Game(config);
        

        function preload ()
        {
            
            
        }

        function create ()
        {
            timer = 0;
            scene = 0;
            points = 0;
        }

        function update ()
        {
            
        }
        {
        function overSquare1 ()
        {
            if (square1Counted === false)
            {
                stepsLeft--;
                square1Counted = true;
                lockDir = 1;

            }
        }
        function overSquare2 ()
        {
            if (square2Counted === false)
            {
                stepsLeft--;
                square2Counted = true;
                lockDir = 1;
            }
        }
        function overSquare3 ()
        {
            if (square3Counted === false)
            {
                stepsLeft--;
                square3Counted = true;
                lockDir = 1;
            }
        }
        function overSquare4 ()
        {
            if (square4Counted === false)
            {
                stepsLeft--;
                square4Counted = true;
                
                lockDir = 1;
                
            }
        }
        function overSquare5 ()
        {
            if (square5Counted === false)
            {
                stepsLeft--;
                square5Counted = true;
                lockDir = 1;
            }
        }
        function overSquare6 ()
        {
            if (square6Counted === false)
            {
                stepsLeft--;
                square6Counted = true;
                lockDir = 1;
            }
        }
        function overSquare7 ()
        {
            if (square7Counted === false)
            {
                stepsLeft--;
                square7Counted = true;
                lockDir = 1;
            }
        }
        function overSquare8 ()
        {
            if (square8Counted === false)
            {
                stepsLeft--;
                square8Counted = true;
                lockDir = 1;
            }
        }
        function overSquare9 ()
        {
            if (square9Counted === false)
            {
                stepsLeft--;
                square9Counted = true;
                lockDir = 2;
            }
        }
        function overSquare10 ()
        {
            if (square10Counted === false)
            {
                stepsLeft--;
                square10Counted = true;
                lockDir = 2;
            }
        }
        function overSquare11 ()
        {
            if (square11Counted === false)
            {
                stepsLeft--;
                square11Counted = true;
                lockDir = 2;
            }
        }
        function overSquare12 ()
        {
            if (square12Counted === false)
            {
                stepsLeft--;
                square12Counted = true;
                lockDir = 2;
            }
        }
        function overSquare13 ()
        {
            if (square13Counted === false)
            {
                stepsLeft--;
                square13Counted = true;
                lockDir = 2;
            }
        }
        function overSquare14 ()
        {
            if (square14Counted === false)
            {
                stepsLeft--;
                square14Counted = true;
                lockDir = 2;
            }
        }
        function overSquare15 ()
        {
            if (square15Counted === false)
            {
                stepsLeft--;
                square15Counted = true;
                lockDir = 2;
            }
        }
        function overSquare16 ()
        {
            if (square16Counted === false)
            {
                stepsLeft--;
                square16Counted = true;
                lockDir = 2;
            }
        }
        function overSquare17 ()
        {
            if (square17Counted === false)
            {
                stepsLeft--;
                square17Counted = true;
                lockDir = 3;

            }
        }
        function overSquare18 ()
        {
            if (square18Counted === false)
            {
                stepsLeft--;
                square18Counted = true;
                lockDir = 3;
            }
        }
        function overSquare19 ()
        {
            if (square19Counted === false)
            {
                stepsLeft--;
                square19Counted = true;
                lockDir = 3;
            }
        }
        function overSquare20 ()
        {
            if (square20Counted === false)
            {
                stepsLeft--;
                square20Counted = true;
                lockDir = 3;
            }
        }
        function overSquare21 ()
        {
            if (square21Counted === false)
            {
                stepsLeft--;
                square21Counted = true;
                lockDir = 3;
            }
        }
        function overSquare22 ()
        {
            if (square22Counted === false)
            {
                stepsLeft--;
                square22Counted = true;
                lockDir = 3;
            }
        }
        function overSquare23 ()
        {
            if (square23Counted === false)
            {
                stepsLeft--;
                square23Counted = true;
                lockDir = 3;
            }
        }
        function overSquare24 ()
        {
            if (square24Counted === false)
            {
                stepsLeft--;
                square24Counted = true;
                lockDir = 3;
            }
        }
        function overSquare25 ()
        {
            if (square25Counted === false)
            {
                stepsLeft--;
                square25Counted = true;
                lockDir = 4;
            }
        }
        function overSquare26 ()
        {
            if (square26Counted === false)
            {
                stepsLeft--;
                square26Counted = true;
                lockDir = 4;
            }
        }
        function overSquare27 ()
        {
            if (square27Counted === false)
            {
                stepsLeft--;
                square27Counted = true;
                lockDir = 4;
            }
        }
        function overSquare28 ()
        {
            if (square28Counted === false)
            {
                stepsLeft--;
                square28Counted = true;
                lockDir = 4;
            }
        }
        function overSquare29 ()
        {
            if (square29Counted === false)
            {
                stepsLeft--;
                square29Counted = true;
                lockDir = 4;
            }
        }
        function overSquare30 ()
        {
            if (square30Counted === false)
            {
                stepsLeft--;
                square30Counted = true;
                lockDir = 4;
            }
            
        }
        function overSquare31 ()
        {
            if (square31Counted === false)
            {
                stepsLeft--;
                square31Counted = true;
                lockDir = 4;
            }
        }
        function overSquare32 ()
        {
            if (square32Counted === false)
            {
                stepsLeft--;
                square32Counted = true;
                lockDir = 4;
            }
        }
        function artifactFound ()
        {
            console.log('hello');
            artifact = true;
            console.log(artifact);
            //this.scene.launch('game');    
            //this.scene.start('game');
                
        }
    }
        function reset()
        {
            square1Counted = false;
            square2Counted = false;
            square3Counted = false;
            square4Counted = false;
            square5Counted = false;
            square6Counted = false;
            square7Counted = false;
            square8Counted = false;
            square9Counted = false;
            square10Counted = false;
            square11Counted = false;
            square12Counted = false;
            square13Counted = false;
            square14Counted = false;
            square15Counted = false;
            square16Counted = false;
            square17Counted = false;
            square18Counted = false;
            square19Counted = false;
            square20Counted = false;
            square21Counted = false;
            square22Counted = false;
            square23Counted = false;
            square24Counted = false;
            square25Counted = false;
            square26Counted = false;
            square27Counted = false;
            square28Counted = false;
            square29Counted = false;
            square30Counted = false;
            square31Counted = false;
            square32Counted = false;
            lockDir = 0;
        }
        function countTimer()
        {
            timer++;
        }

        
        </script>
</body>
</html>
